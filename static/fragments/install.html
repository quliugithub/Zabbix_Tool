<div id="install" class="tab">
      <fieldset>
        <legend>主机信息与配置</legend>
        <div class="grid-2 install-grid">
          <!-- 基础信息 -->
          <div><label>主机名</label><input id="host" placeholder="留空自动检测hostname，若为localhost则取IP" /></div>
          <div><label>IP 地址 <span style="color:red">*</span></label><input id="ip" placeholder="例如：10.0.0.1" required /></div>
          <div><label>可见名称 (Visible Name)</label><input id="visible_name" placeholder="Zabbix 显示别名" />
          </div>
          <div><label>系统类型</label>
            <select id="os">
              <option value="linux">Linux</option>
              <option value="windows">Windows</option>
            </select>
          </div>
          <div><label>SSH 用户 <span style="color:red">*</span></label><input id="ssh_user" placeholder="root" required /></div>
          <div>
            <label>SSH 密码 <span style="color:red">*</span></label>
            <div class="input-wrapper">
              <input id="ssh_password" type="password" required />
              <span class="eye-icon" onclick="togglePassword('ssh_password')">👁️</span>
            </div>
          </div>
          <div><label>SSH 端口</label><input id="ssh_port" value="22" type="number" /></div>
          <div><label>Agent 端口</label><input id="port" value="10050" type="number" /></div>
          <div><label>JMX 端口</label><input id="jmx_port" value="10052" type="number" /></div>

          <div><label>Web监控URL (可选，支持多值用;分隔)</label><input id="web_url" placeholder="http://example.com/health;http://example.com/ping" />
          </div>


          <!-- 关联信息 -->
          <div>
            <label>关联模板</label>
            <div class="chip-field input-sized" onclick="openSelector('tmpl', null, 'install')">
              <div class="chip-value" id="tmplSelected"></div>
              <div class="chip-placeholder">点击选择模板</div>
            </div>
          </div>

          <div>
            <label>关联群组</label>
            <div class="chip-field input-sized" onclick="openSelector('grp', null, 'install')">
              <div class="chip-value" id="groupSelected"></div>
              <div class="chip-placeholder">点击选择群组</div>
            </div>
          </div>

          <div>
            <label>关联 Proxy (可选)</label>
            <div class="chip-field input-sized" onclick="openSelector('proxy', null, 'install-proxy')">
              <div class="chip-value" id="proxySelected"></div>
              <div class="chip-placeholder">点击选择 Proxy</div>
            </div>
          </div>
        </div>

        <!-- 底部操作区：执行模式 + 按钮 (重构优化版) -->
        <div class="bottom-action-area">
          <div class="action-section-title">
            🛠️ 任务执行模式
          </div>

          <!-- 模式选择 Grid -->
          <div class="mode-grid">
            <label class="mode-card">
              <input type="radio" name="install_mode" value="full" checked onchange="onModeChange()">
              <span class="mode-title">标准安装</span>
              <span class="mode-desc">部署 Agent 并注册到 Server，全流程自动化。</span>
            </label>

            <label class="mode-card">
              <input type="radio" name="install_mode" value="agent_only" onchange="onModeChange()">
              <span class="mode-title">仅部署软件</span>
              <span class="mode-desc">只安装 Agent 软件，不进行 Server 注册。</span>
            </label>

            <label class="mode-card">
              <input type="radio" name="install_mode" value="register_only" onchange="onModeChange()">
              <span class="mode-title">仅注册配置</span>
              <span class="mode-desc">跳过软件安装，仅修改配置并注册主机。</span>
            </label>
          </div>

          <!-- 底部工具栏 -->
          <div class="action-toolbar">
            <div class="btn-group">
              <button class="secondary" onclick="showInstallLog()">📜 查看日志</button>
              <button onclick="install(this)" style="padding:10px 32px; font-weight:600;">🚀 开始安装</button>
              <button class="secondary danger-text" onclick="uninstall(this)" style="padding:10px 24px;">🗑️ 开始卸载</button>
            </div>
          </div>
        </div>
      </fieldset>
    </div>

      
<!-- 3. 批量安装 -->
